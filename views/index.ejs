<!DOCTYPE html>
<html lang="en">
  <head>
    <title>달:로그</title>
    <meta charset="utf-8" />
    <meta
      property="og:image"
      content="https://images.velog.io/images/sukong/post/95c0e965-340a-47af-b7f6-c071ff45958e/image.png"
    />
    <meta property="og:description" content="간편하게 작성하는 일기, 달:로그" />
    <meta property="og:title" content="달:로그" />
    <meta property="og:site_name" content="달:로그" />
    <meta property="og:type" content="website" />
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <link rel="stylesheet" type="text/css" href="css/Questyle.css" />
    <link rel="stylesheet" type="text/css" href="css/calstyle.css" />
    <link
      href="https://spoqa.github.io/spoqa-han-sans/"
      rel="stylesheet"
      type="text/css"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <script>
      console.dir("<%=profile%>");
      let profile = "<%=JSON.stringify(profile)%>";
      if (profile) {
        profile = profile.replaceAll("&#34;", '"');
        profile = JSON.parse(profile);
        console.dir(profile);
      }
      let board = "<%=board%>";
      if (!board) {
        board = "grid";
      }
      console.log("<%=board%>");
    </script>
    <header class="header">
      <div class="wrapper">
        <img
          src="media/logo4.jpg"
          class="logo"
          onclick="location.href='/'"
          style="cursor: pointer"
        />
        <form action="/" method="post" id="title_form">
          <input
            id="titleInput"
            name="titleInput"
            class="dalog-title"
            type="text"
            value="여기를 눌러 타이틀을 수정하세요!"
            onfocus="document.getElementById('title-submit').style.visibility='visible'; document.getElementById('title-submit').style.opacity=1;"
            onblur="document.getElementById('title-submit').style.opacity=0;"
          />
          <input
            type="image"
            id="title-submit"
            class="title-submit"
            src="./media/title-edit.png"
            value=""
            onclick="document.getElementById('title_form').submit();"
          />
        </form>
        <script>
          if (profile) {
            document.getElementById("titleInput").value = profile.title;
          }
        </script>
        <nav>
          <ul class="main-menu">
            <li>
              <a
                href="/diary/write"
                target="_self"
                style="text-decoration: none; cursor: pointer"
              >
                <img
                  src="media/write.png"
                  class="write"
                  style="cursor: pointer"
                  alt="글쓰기"
                />
              </a>
            </li>
            <li>
              <a
                href="/diary/board_<%=board%>"
                target="_self"
                style="text-decoration: none; cursor: pointer"
              >
                <img
                  src="media/board.png"
                  class="board"
                  style="cursor: pointer"
                  alt="게시판"
                />
              </a>
            </li>
            <li id="after_login">
              <a href="#"
                ><img src="media/profile.png" style="cursor: pointer"
              /></a>
              <ul class="sub-menu">
                <li>
                  <a
                    href="/user/modify"
                    target="_self"
                    style="text-decoration: none; cursor: pointer"
                    >정보수정</a
                  >
                </li>
                <li>
                  <a
                    href="/user/logout"
                    target="_self"
                    style="text-decoration: none; cursor: pointer"
                    >로그아웃</a
                  >
                </li>
              </ul>
            </li>
            <li id="before_login">
              <a href="#"
                ><img src="media/profile.png" style="cursor: pointer"
              /></a>
              <ul class="sub-menu">
                <li>
                  <a
                    href="/user/login"
                    target="_self"
                    style="text-decoration: none; cursor: pointer"
                    >로그인</a
                  >
                </li>
                <li>
                  <a
                    href="/user/join"
                    target="_self"
                    style="text-decoration: none; cursor: pointer"
                    >회원가입</a
                  >
                </li>
              </ul>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <div class="Area">
      <div class="Box">
        <form
          action="/question"
          method="POST"
          id="simple_write"
          enctype="application/json"
        >
          <div class="Question">
            <select name="selectQuestion" id="selectQuestion">
              <option value="">질문을 선택해주세요</option>
              <option value="오늘 맛있게 먹은 음식이 있나요?">
                오늘 맛있게 먹은 음식이 있나요?
              </option>
              <option value="지금 어떤 음식이 먹고 싶나요?">
                지금 어떤 음식이 먹고 싶나요?
              </option>
              <option value="오늘 짜증나는 일이 있었나요?">
                오늘 짜증나는 일이 있었나요?
              </option>
              <option value="오늘 화나는 일이 있었나요?">
                오늘 화나는 일이 있었나요?
              </option>
              <option value="오늘 기쁜 일이 있었나요?">
                오늘 기쁜 일이 있었나요?
              </option>
              <option value="오늘 본 재밌었던 유튜브 영상은 무엇인가요?">
                오늘 본 재밌었던 유튜브 영상은 무엇인가요?
              </option>
              <option value="최근에 본 영화는 무엇인가요? 어땠나요?">
                최근에 본 영화는 무엇인가요? 어땠나요?
              </option>
              <option value="요즘 보고싶은 영화는 무엇인가요?">
                요즘 보고싶은 영화는 무엇인가요?
              </option>
              <option value="최근에 본 드라마는 무엇인가요? 어땠나요?">
                최근에 본 드라마는 무엇인가요? 어땠나요?
              </option>
              <option value="요즘 보고싶은 드라마는 무엇인가요?">
                요즘 보고싶은 드라마는 무엇인가요?
              </option>
              <option value="요즘 유행하는 노래는 무엇인가요?">
                요즘 유행하는 노래는 무엇인가요?
              </option>
              <option value="요즘 몰입하고 있는 일이 있나요?">
                요즘 몰입하고 있는 일이 있나요?
              </option>
              <option value="요즘 꽂힌 노래는 무엇인가요?">
                요즘 꽂힌 노래는 무엇인가요?
              </option>
              <option value="사고 싶은 물건이 있나요?">
                사고 싶은 물건이 있나요?
              </option>
              <option value="오늘 산 물건은 마음에 드나요?">
                오늘 산 물건은 마음에 드나요?
              </option>
              <option value="요즘 좋아하는 연예인이 있나요?">
                요즘 좋아하는 연예인이 있나요?
              </option>
              <option value="요즘 인기 많은 연예인은 누구인가요?">
                요즘 인기 많은 연예인은 누구인가요?
              </option>
              <option value="요즘 좋아하는 사람 있나요?( ͡° ͜ʖ ͡°)">
                요즘 좋아하는 사람 있나요?( ͡° ͜ʖ ͡°)
              </option>
              <option value="현재 가장 큰 고민은 무엇인가요?">
                현재 가장 큰 고민은 무엇인가요?
              </option>
              <option value="100억이 주어졌을 때 어떤 것을 제일 하고 싶나요?">
                100억이 주어졌을 때 어떤 것을 제일 하고 싶나요?
              </option>
              <option value="오늘 컨디션이 좋았나요?">
                오늘 컨디션이 좋았나요?
              </option>
              <option value="오늘 하루를 한 단어로 표현하자면?">
                오늘 하루를 한 단어로 표현하자면?
              </option>
              <option value="오늘 누구를 만났나요?">
                오늘 누구를 만났나요?
              </option>
            </select>
          </div>
          <div class="Answer">
            <p>
              <input
                type="text"
                placeholder="A. "
                class="WriteAnswer"
                name="answer"
              />
            </p>

            <input
              type="submit"
              id="simple-submit"
              value="등록"
              class="buttons"
              name="content"
              onclick="document.getElementById('simple-submit').submit();"
            />
          </div>
        </form>
      </div>
    </div>

    <div class="calendar">
      <div class="cal_header">
        <button class="nav-btn go-prev" onclick="prevMonth()">&lt;</button>
        <div class="year-month"></div>
        <button class="nav-btn go-next" onclick="nextMonth()">&gt;</button>
      </div>

      <div class="main">
        <div class="days">
          <span class="day">일</span><span class="day">월</span
          ><span class="day">화</span><span class="day">수</span
          ><span class="day">목</span><span class="day">금</span
          ><span class="day">토</span>
        </div>
        <div class="dates"></div>
      </div>
    </div>
    <div class="modal hidden">
      <div class="modal_background"></div>
      <div class="modal_container">
        <div class="modaltop_container">
          <div class="modal_date"></div>
          <img class="deleteBtn" src="media/trash.png" />
        </div>
        <div class="modal_colorContainer">
          <button
            class="color"
            id="pink"
            style="background-color: #fcd5dd"
            onclick="ColorBtnOnClick(id)"
          ></button>
          <button
            class="color"
            id="orange"
            style="background-color: #fddbc8"
            onclick="ColorBtnOnClick(id)"
          ></button>
          <button
            class="color"
            id="yellow"
            style="background-color: #fcf8bc"
            onclick="ColorBtnOnClick(id)"
          ></button>
          <button
            class="color"
            id="green"
            style="background-color: #cdf4d4"
            onclick="ColorBtnOnClick(id)"
          ></button>
          <button
            class="color"
            id="blue"
            style="background-color: #cde2fe"
            onclick="ColorBtnOnClick(id)"
          ></button>
          <button
            class="color"
            id="purple"
            style="background-color: #e3d2f9"
            onclick="ColorBtnOnClick(id)"
          ></button>
          <button
            class="color"
            id="white"
            style="background-color: #ffffff; border: 1px solid #dfdfdf"
            onclick="ColorBtnOnClick(id)"
          ></button>
        </div>
        <textarea
          class="modal_content"
          placeholder="메모를 입력하세요"
        ></textarea>
        <button class="modal_closeBtn">- save -</button>
      </div>
    </div>
    <script src="diary/calendarjs.js"></script>
  </body>
  <script>
    if (!profile) {
      console.log("profile 없음");
      document.getElementById("before_login").style.display = "block";
      document.getElementById("after_login").style.display = "none";
    } else {
      console.log("profile 있음");
      document.getElementById("before_login").style.display = "none";
      document.getElementById("after_login").style.display = "block";
    }

    const selectBox = document.getElementById("selectQuestion");
    const randomIdx =
      Math.floor(Math.random() * (selectBox.options.length - 1)) + 1;
    selectBox.options[randomIdx].selected = true;
  </script>
</html>
